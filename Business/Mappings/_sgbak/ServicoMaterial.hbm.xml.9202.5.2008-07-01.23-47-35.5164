<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">
	<class name="Marinha.Business.ServicoMaterial,Marinha.Business" table="TB_ServicoMaterial" lazy="true">

		<id name="ID" column="ID_ServicoMaterial" type="Int32" unsaved-value="0">
			<generator class="native"/>
		</id>
		<many-to-one name="SubClasseServicoMaterial" column="ID_SubClasseServicoMaterial" class="Marinha.Business.SubClasseServicoMaterial,Marinha.Business" />
		<many-to-one name="Fabricante" column="ID_Fabricante" class="Marinha.Business.Fabricante,Marinha.Business" />
		<property name="OrigemMaterial" column="ID_OrigemMaterial" type="Int32" />
		<property column="Descricao" type="String" name="Descricao" not-null="true" length="100" />
		<property column="DescricaoSingra" type="String" name="DescricaoSingra" length="200" />		
		<property column="CodigoInterno" type="String" name="CodigoInterno" length="20" />
		<property column="NumeroReferencia" type="String" name="NumeroReferencia" length="20" />
		<many-to-one name="Unidade" column="ID_Unidade" class="Marinha.Business.Unidade,Marinha.Business" />
    <many-to-one name="SJB" column="ID_SJB" class="Marinha.Business.SJB,Marinha.Business" />
		<property column="FlagAtivo" type="Boolean" name="FlagAtivo" not-null="true" />
    <property name="TipoServicoMaterial" column="ID_TipoServicoMaterial" type="Int32" />
    <property name="CodigoSiasg" column="CodigoSiasg" type="String" />
    
    
        <set name="Equipamentos" table="TB_ServicoMaterialEquipamento" lazy="true">
            <key>
                <column name="ID_ServicoMaterial" not-null="true"/>
            </key>
            <many-to-many class="Marinha.Business.Equipamento,Marinha.Business">
                <column name="ID_Equipamento" not-null="true"/>
            </many-to-many>
        </set>

        <set name="Localizacoes" table="TB_ServicoMaterialLocalizacao" lazy="true" >
            <key>
                <column name="ID_ServicoMaterial" not-null="true"/>
            </key>
            <many-to-many class="Marinha.Business.Localizacao,Marinha.Business">
                <column name="ID_Localizacao" not-null="true"/>
            </many-to-many>
        </set>
	</class>
</hibernate-mapping>
